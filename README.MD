# üéÆ Pitu HvH - Essentials (v2.0.0)

[![CounterStrikeSharp](https://img.shields.io/badge/CounterStrikeSharp-v342+-green)](https://github.com/roflmuffin/CounterStrikeSharp)
[![CS2](https://img.shields.io/badge/CS2-Plugin-blue)](https://store.steampowered.com/app/730/CounterStrike_2/)
[![License](https://img.shields.io/badge/License-MIT-yellow)](LICENSE)

> üáßüá∑ **Plugin essencial para servidores CS2, totalmente traduzido para Portugu√™s!**

O √∫nico plugin que voc√™ precisa para rodar um servidor HvH de sucesso. Inclui recursos b√°sicos como **reset de score** e **rage quit**, al√©m de restri√ß√µes opcionais para **armas**, **fogo amigo**, **double tap** e prote√ß√µes contra exploits/crashes.

### ‚ö†Ô∏è Se voc√™ usa este plugin, N√ÉO precisa mais do [RapidFireFix](https://github.com/HvH-gg/RapidFireFix).

---

## ‚ú® Funcionalidades

- ‚úÖ Suporte a Custom Votes (requer [CS2-CustomVotes](https://github.com/imi-tat0r/CS2-CustomVotes))
- ‚úÖ Reset de score com `!rs`
- ‚úÖ Rage quit com `!rq`
- ‚úÖ Restri√ß√£o de armas (AWP, Scout, Auto Sniper) **por time**
- ‚úÖ Fogo amigo apenas de utilit√°rios (granadas, molotov)
- ‚úÖ Prote√ß√£o contra Double Tap (bloquear, refletir dano, refletir sem matar)
- ‚úÖ Prote√ß√£o contra Teleporte/Airstuck (tamb√©m previne crash do servidor)
- ‚úÖ Funciona em **todos os modos de jogo** (Casual, Competitivo, Mata-Mata)
- ‚úÖ Detecta troca de time e remove arma se novo time est√° no limite
- ‚úÖ Comandos funcionam no chat E no console (`rs`, `RS`, `rq`, `RQ`)

---

## üìã Requisitos

- [Metamod:Source](https://www.sourcemm.net/downloads.php/?branch=master)
- [CounterStrikeSharp (v342+)](https://github.com/roflmuffin/CounterStrikeSharp/releases)

---

## üì¶ Instala√ß√£o

1. Instale o Metamod:Source e CounterStrikeSharp
2. Baixe a [√∫ltima release](../../releases) do plugin
3. Extraia a pasta `addons` no diret√≥rio `game/csgo/` do seu servidor
4. Edite o arquivo de configura√ß√£o conforme necess√°rio:
   - Localizado em: `addons/counterstrikesharp/configs/plugins/CS2-Essentials/CS2-Essentials.json`
5. Reinicie o servidor

---

## ‚öôÔ∏è Configura√ß√£o

Para recarregar a configura√ß√£o ap√≥s editar, use `hvh_cfg_reload` no console do servidor.

```json
{
  "RapidFireFixMethod": 1,
  "RapidFireReflectScale": 1,
  "AllowedAwpCount": -1,
  "AllowedScoutCount": -1,
  "AllowedAutoSniperCount": -1,
  "UnmatchedFriendlyFire": true,
  "RestrictTeleport": true,
  "AllowAdPrint": false,
  "AllowSettingsPrint": true,
  "AllowResetScore": true,
  "AllowRageQuit": true,
  "ChatPrefix": "{Gold} ‚ãÜ {Blue}Pitu{Gold}HvH{Gold} ‚ãÜ",
  "CustomVoteSettings": {
    "FriendlyFireVote": false,
    "TeleportFixVote": false,
    "RapidFireVote": "full",
    "Style": "center"
  },
  "ConfigVersion": 4
}
```

### Explica√ß√£o das Op√ß√µes

| Op√ß√£o | Descri√ß√£o | Valores |
|-------|-----------|---------|
| `RapidFireFixMethod` | Prote√ß√£o contra Double Tap | `0` permite, `1` bloqueia, `2` reflete dano, `3` reflete sem matar |
| `RapidFireReflectScale` | Porcentagem do dano refletido | `0.0` a `1.0` |
| `AllowedAwpCount` | AWPs permitidas por time | `-1` ilimitado, `0` proibido, `1+` limite |
| `AllowedScoutCount` | Scouts permitidas por time | `-1` ilimitado, `0` proibido, `1+` limite |
| `AllowedAutoSniperCount` | Auto Snipers por time | `-1` ilimitado, `0` proibido, `1+` limite |
| `UnmatchedFriendlyFire` | Fogo amigo s√≥ de utilit√°rios | `true` ou `false` |
| `RestrictTeleport` | Bloqueia exploit de teleporte | `true` ou `false` |
| `AllowSettingsPrint` | Mostra configura√ß√µes ao spawnar | `true` ou `false` |
| `AllowResetScore` | Permite comando `!rs` | `true` ou `false` |
| `AllowRageQuit` | Permite comando `!rq` | `true` ou `false` |
| `ChatPrefix` | Prefixo das mensagens no chat | String com cores |

---

## üí¨ Comandos

### Para Jogadores

| Comando | Descri√ß√£o |
|---------|-----------|
| `!rs` ou `!resetscore` | Reseta seu score e estat√≠sticas |
| `!rq` ou `!ragequit` | Sai do servidor com estilo |
| `!settings` | Mostra as configura√ß√µes do servidor |

> üí° **Dica:** Os comandos tamb√©m funcionam no console sem o `!`:
> - `rs`, `RS`, `Rs`, `rS`, `resetscore`, `RESETSCORE`
> - `rq`, `RQ`, `Rq`, `rQ`, `ragequit`, `RAGEQUIT`

---

## üñ•Ô∏è ConVars (Console do Servidor)

Voc√™ pode alterar configura√ß√µes em tempo real usando ConVars. **Essas mudan√ßas N√ÉO s√£o salvas** e ser√£o resetadas ao reiniciar o servidor.

| ConVar | Descri√ß√£o |
|--------|-----------|
| `hvh_restrict_rapidfire <0-3>` | 0=permitir, 1=bloquear, 2=refletir, 3=refletir sem matar |
| `hvh_rapidfire_reflect_scale <0-1>` | Porcentagem do dano refletido |
| `hvh_restrict_teleport <0/1>` | Bloqueia exploit de teleporte/airstuck |
| `hvh_restrict_awp <n>` | AWPs por time (-1=ilimitado, 0=proibido) |
| `hvh_restrict_scout <n>` | Scouts por time (-1=ilimitado, 0=proibido) |
| `hvh_restrict_auto <n>` | Auto Snipers por time (-1=ilimitado, 0=proibido) |
| `hvh_unmatched_friendlyfire <0/1>` | Fogo amigo s√≥ de utilit√°rios |
| `hvh_resetscore <0/1>` | Ativa/desativa comando !rs |
| `hvh_ragequit <0/1>` | Ativa/desativa comando !rq |
| `hvh_cfg_reload` | Recarrega configura√ß√£o do arquivo |

---

## üé® Cores do ChatPrefix

Voc√™ pode usar todas as cores dispon√≠veis no CounterStrikeSharp no prefixo do chat:

`Default`, `White`, `Red`, `LightRed`, `DarkRed`, `BlueGrey`, `Green`, `Lime`, `Olive`, `LightGreen`, `Blue`, `LightBlue`, `Purple`, `Magenta`, `Grey`, `LightGrey`, `Yellow`, `Gold`, `Orange`, `Silver`

**Exemplo:**
```json
"ChatPrefix": " {Gold} ‚ãÜ {Blue}Pitu{Gold}HvH{Gold} ‚ãÜ"
```

---

## üó≥Ô∏è Custom Votes (Opcional)

Se voc√™ tiver o [CS2-CustomVotes](https://github.com/imi-tat0r/CS2-CustomVotes) instalado, pode habilitar vota√ß√µes:

| Comando | Configura√ß√£o |
|---------|--------------|
| `!rapidfire` | `CustomVoteSettings.RapidFireVote` (`off`, `simple`, `full`) |
| `!friendlyfire` | `CustomVoteSettings.FriendlyFireVote` (`true`/`false`) |
| `!teleport` | `CustomVoteSettings.TeleportFixVote` (`true`/`false`) |

> ‚ö†Ô∏è **Aviso:** A restri√ß√£o de teleporte previne o exploit de crash do servidor. Se voc√™ habilitar a vota√ß√£o de teleporte, o servidor ficar√° vulner√°vel ao exploit.

---

## üõ°Ô∏è Detalhes das Funcionalidades

### Restri√ß√£o de Armas
- Define limites de AWP, Scout e Auto Sniper **por time**
- Quando um jogador tenta comprar al√©m do limite:
  - Arma √© removida automaticamente
  - Dinheiro √© reembolsado
  - Aviso √© exibido no chat
- Se um jogador troca de time com uma arma restrita e o novo time j√° est√° no limite, a arma √© removida
- Jogadores podem pegar sua pr√≥pria arma dropada (n√£o conta como nova)

### Fogo Amigo de Utilit√°rios
Quando `UnmatchedFriendlyFire: true`:
- ‚ùå Tiros em aliados s√£o **ignorados**
- ‚úÖ Granadas, Molotovs e HE afetam aliados normalmente

### Prote√ß√£o contra Double Tap
| Modo | Comportamento |
|------|---------------|
| `0` - Permitir | Double tap funciona normalmente |
| `1` - Bloquear | Dano de double tap √© bloqueado |
| `2` - Refletir | Dano √© refletido para o atacante |
| `3` - Refletir (Seguro) | Dano √© refletido mas n√£o mata o atacante |

---

## ü§ù Cr√©ditos

- **Pitu** - Modifica√ß√µes, tradu√ß√µes PT-BR, melhorias v2.0
- **HvH.gg / imi-tat0r** - Plugin original
- [Metamod:Source](https://www.sourcemm.net/)
- [CounterStrikeSharp](https://github.com/roflmuffin/CounterStrikeSharp)

---

## üìÑ Licen√ßa

Este projeto √© licenciado sob a licen√ßa MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

---

## üêõ Bugs e Sugest√µes

Encontrou um bug ou tem uma sugest√£o? Abra uma [issue](../../issues)!

---

<p align="center">
  <b>Feito para a comunidade de HvH BR de CS2</b>
</p>
